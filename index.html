<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript" src="https://ngld.github.io/OverlayPlugin/assets/shared/common.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
    </style>
  </head>
  <body>
    <div id="main">
    </div>
  </body>
  <footer>
    <script>
      const eventType = 'LogLine';
      // 0: messageType?
      //    00: message in chat box
      //        ex: "Tonk Tonkers: hello", "There are no party members." "You change to paladin."
      //    21: use action
      //        ex: clicking a button on your hotbar such as Sentinel or Goring Blade or Arm's Length
      //    26: gained an effect
      //        ex: getting a buff like Rampart or Sentinel or Arm's Length
      //    30: lose an effect
      //        ex: Rampart or Sentinel or Arm's Length wears off
      // 1: timestamp
      // 2: actionType? (ActionEffect, Gauge, ChatLog, UpdateHp, StatusAdd, etc.)
      // 3: Actor? Name
      // 4: Actor? ID
      // 5: Skill? ID
      // 6: Skill? Name
      // 7: Target? ID
      // 8: Target? Name

      const MESSAGE_TYPE_USE_ABILITY = '21'; // Character uses ability
      const MESSAGE_TYPE_GAIN_EFFECT = '26'; // Character gains effect
      const MESSAGE_TYPE_LOSE_EFFECT = '30'; // Character loses effect

      const messageType = '21'; //
      const actionType = '107CDF82'; // ?? maybe this is a skill id?
      const messageTypes = [
        MESSAGE_TYPE_USE_ABILITY
        MESSAGE_TYPE_GAIN_EFFECT
        MESSAGE_TYPE_LOSE_EFFECT
      ];

      addOverlayListener(eventType, (data) => {
        if(messageTypes.includes(data.line.[0])){

        }
        console.log(eventType, data);
      });
      startOverlayEvents();
    </script>
  </footer>
</html>
